<!DOCTYPE HTML>
<html lang="null">
<head>
    <!--Setting-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <meta http-equiv="Cache-Control" content="no-transform">
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta name="apple-mobile-web-app-capable" content="五年C++程序员的口水博客">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no,email=no,adress=no">
    <meta name="browsermode" content="application">
    <meta name="screen-orientation" content="portrait">
    <link rel="dns-prefetch" href="https://israel-liu.github.io">
    <!--SEO-->





<meta name="robots" content="all" />
<meta name="google" content="all" />
<meta name="googlebot" content="all" />
<meta name="verify" content="all" />
    <!--Title-->


<title>The Design And Evolution Of Cpp | 五年C++程序员的口水博客</title>


    <link rel="alternate" href="/atom.xml" title="五年C++程序员的口水博客" type="application/atom+xml">


    <link rel="icon" href="/favicon.ico">

    



<link rel="stylesheet" href="/css/bootstrap.min.css?rev=3.3.7">
<link rel="stylesheet" href="/css/font-awesome.min.css?rev=4.5.0">
<link rel="stylesheet" href="/css/style.css?rev=@@hash">




    
	<div class="hide">
		<script type="text/javascript">
			var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan class='cnzz_stat_icon_1263868967 hide' %3E%3Cscript%20src%3D%22https%3A%2F%2Fs95.cnzz.com%2Fz_stat.php%3Fweb_id%3D1272564536%22%3E%3C%2Fscript%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s19.cnzz.com/z_stat.php%3Fid%3D1263868967%26show%3Dpic1' type='text/javascript'%3E%3C/script%3E"));
		</script>
	</div>






    
</head>


<!--[if lte IE 8]>
<style>
    html{ font-size: 1em }
</style>
<![endif]-->
<!--[if lte IE 9]>
<div style="ie">你使用的浏览器版本过低，为了你更好的阅读体验，请更新浏览器的版本或者使用其他现代浏览器，比如Chrome、Firefox、Safari等。</div>
<![endif]-->

<body>
    <header class="main-header"  style="background-image:url(https://github.com/israel-Liu/theForger/raw/master/images/byosoku.jpg)"  >
    <div class="main-header-box">
        <a class="header-avatar" href="/" title='Licca Chen'>
            <img src="/img/avatar.JPG" alt="logo头像" class="img-responsive center-block">
        </a>
        <div class="branding">
        	<!--<h2 class="text-hide">Snippet主题,从未如此简单有趣</h2>-->
            
                 <img src="/img/branding.png" alt="Snippet 博客主题" class="img-responsive center-block">
            
    	</div>
    </div>
</header>

    <nav class="main-navigation">
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <div class="navbar-header"><span class="nav-toggle-button collapsed pull-right" data-toggle="collapse" data-target="#main-menu" id="mnav">
                    <span class="sr-only"></span>
                        <i class="fa fa-bars"></i>
                    </span>
                    <a class="navbar-brand" href="https://israel-liu.github.io">五年C++程序员的口水博客</a>
                </div>
                <div class="collapse navbar-collapse" id="main-menu">
                    <ul class="menu">
                        
                            <li role="presentation" class="text-center">
                                <a href="/"><i class="fa "></i>Home</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/archives/"><i class="fa "></i>timeline</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/tags/"><i class="fa "></i>Tags</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/about/"><i class="fa "></i>About</a>
                            </li>
                        
                    </ul>
                </div>
            </div>
        </div>
    </div>
</nav>

    <section class="content-wrap">
        <div class="container">
            <div class="row">
                <main class="col-md-8 main-content m-post">
                    <p id="process"></p>
<article class="post">
    <div class="post-head">
        <h1 id="The Design And Evolution Of Cpp">
            
	            The Design And Evolution Of Cpp
            
        </h1>
        <div class="post-meta">
    
    
    <span class="categories-meta fa-wrap">
        <i class="fa fa-folder-open-o"></i>
        <a href="/categories/ ">
             
        </a>
    </span>
    
    
    <span class="fa-wrap">
        <i class="fa fa-tags"></i>
        <span class="tags-meta">
            
                
            
        </span>
    </span>
    

    
        
        <span class="fa-wrap">
            <i class="fa fa-clock-o"></i>
            <span class="date-meta">2018/09/27</span>
        </span>
    
</div>

            
            
    </div>
    
    <div class="post-body post-content">
        <h3 id="豆瓣书评"><a href="#豆瓣书评" class="headerlink" title="豆瓣书评"></a><a href="https://book.douban.com/subject/1456860/" target="_blank" rel="noopener">豆瓣书评</a></h3><h1 id="0-Notes-to-the-Reader"><a href="#0-Notes-to-the-Reader" class="headerlink" title="0 Notes to the Reader"></a>0 Notes to the Reader</h1><h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><h2 id="How-to-Read-this-Book"><a href="#How-to-Read-this-Book" class="headerlink" title="How to Read this Book"></a>How to Read this Book</h2><p>In particular, no two people seem to agree on what level of detail is appropriate for a discussion of this topic.</p>
<h2 id="Focus-on-Use-and-Users"><a href="#Focus-on-Use-and-Users" class="headerlink" title="Focus on Use and Users"></a>Focus on Use and Users</h2><h2 id="Programming-Languages"><a href="#Programming-Languages" class="headerlink" title="Programming Languages"></a>Programming Languages</h2><p><a href="http://www.stroustrup.com/C++.html" target="_blank" rel="noopener">C++</a></p>
<h2 id="References"><a href="#References" class="headerlink" title="References"></a>References</h2><h1 id="Part-I-Chapters"><a href="#Part-I-Chapters" class="headerlink" title="Part I Chapters"></a>Part I Chapters</h1><h1 id="1-The-Prehistory-of-C"><a href="#1-The-Prehistory-of-C" class="headerlink" title="1 The Prehistory of C++"></a>1 The Prehistory of C++</h1><h2 id="1-1-Simula-and-Distributed-Systems"><a href="#1-1-Simula-and-Distributed-Systems" class="headerlink" title="1.1 Simula and Distributed Systems"></a>1.1 Simula and Distributed Systems</h2><p>支持类，高效，可移值。</p>
<h2 id="1-2-C-and-Systems-Programming"><a href="#1-2-C-and-Systems-Programming" class="headerlink" title="1.2 C and Systems Programming"></a>1.2 C and Systems Programming</h2><h2 id="1-3-General-Background"><a href="#1-3-General-Background" class="headerlink" title="1.3 General Background"></a>1.3 General Background</h2><p>哲学啊，思想啊，文学啊，数学啊，各自乱七八糟的东西，也就是说思想达到一定高度才有这种设计水平。</p>
<h1 id="2-C-with-Classes"><a href="#2-C-with-Classes" class="headerlink" title="2 C with Classes"></a>2 C with Classes</h1><h2 id="2-1-The-Birth-of-C-with-Classes"><a href="#2-1-The-Birth-of-C-with-Classes" class="headerlink" title="2.1 The Birth of C with Classes"></a>2.1 The Birth of C with Classes</h2><h2 id="2-2-Feature-overview"><a href="#2-2-Feature-overview" class="headerlink" title="2.2 Feature overview"></a>2.2 Feature overview</h2><h2 id="2-3-Classes"><a href="#2-3-Classes" class="headerlink" title="2.3 Classes"></a>2.3 Classes</h2><h2 id="2-4-Run-Time-Efficiency"><a href="#2-4-Run-Time-Efficiency" class="headerlink" title="2.4 Run-Time Efficiency"></a>2.4 Run-Time Efficiency</h2><h3 id="2-4-1-Inlining"><a href="#2-4-1-Inlining" class="headerlink" title="2.4.1 Inlining,"></a>2.4.1 Inlining,</h3><h2 id="2-5-The-Linkage-Model"><a href="#2-5-The-Linkage-Model" class="headerlink" title="2.5 The Linkage Model"></a>2.5 The Linkage Model</h2><h3 id="2-5-1-Simple-Minded-Implementations"><a href="#2-5-1-Simple-Minded-Implementations" class="headerlink" title="2.5.1 Simple-Minded Implementations"></a>2.5.1 Simple-Minded Implementations</h3><p>link compatibility is much more important than source compatibility.</p>
<h3 id="2-5-2-The-Object-Layout-Model"><a href="#2-5-2-The-Object-Layout-Model" class="headerlink" title="2.5.2 The Object Layout Model"></a>2.5.2 The Object Layout Model</h3><p>引入 this 的时候，C++ 还没有引用。所以 this 是指向对象的指针。</p>
<h2 id="2-6-Static-Type-Checking"><a href="#2-6-Static-Type-Checking" class="headerlink" title="2.6 Static Type Checking"></a>2.6 Static Type Checking</h2><h3 id="2-6-1-Narrowing-Conversions"><a href="#2-6-1-Narrowing-Conversions" class="headerlink" title="2.6.1 Narrowing Conversions"></a>2.6.1 Narrowing Conversions</h3><p>类型截断</p>
<h3 id="2-6-2-Use-of-Warnings"><a href="#2-6-2-Use-of-Warnings" class="headerlink" title="2.6.2 Use of Warnings"></a>2.6.2 Use of Warnings</h3><p>warnings are used to compensate for problems that cannot be fixed through language changes。</p>
<h2 id="2-7-Why-C"><a href="#2-7-Why-C" class="headerlink" title="2.7 Why C?"></a>2.7 Why C?</h2><h2 id="2-8-Syntax-Problems"><a href="#2-8-Syntax-Problems" class="headerlink" title="2.8 Syntax Problems"></a>2.8 Syntax Problems</h2><h3 id="2-8-1-The-C-Declaration-Syntax"><a href="#2-8-1-The-C-Declaration-Syntax" class="headerlink" title="2.8.1 The C Declaration Syntax"></a>2.8.1 The C Declaration Syntax</h3><h3 id="2-8-2-Structure-Tags-vs-Type-Names"><a href="#2-8-2-Structure-Tags-vs-Type-Names" class="headerlink" title="2.8.2 Structure Tags vs. Type Names"></a>2.8.2 Structure Tags vs. Type Names</h3><h3 id="2-8-3-The-Importance-of-Syntax"><a href="#2-8-3-The-Importance-of-Syntax" class="headerlink" title="2.8.3 The Importance of Syntax"></a>2.8.3 The Importance of Syntax</h3><p>However, the syntax of a language should be designed to follow the semantic notions of the language, not the other way around.</p>
<h2 id="2-9-Derived-Classes"><a href="#2-9-Derived-Classes" class="headerlink" title="2.9 Derived Classes"></a>2.9 Derived Classes</h2><p>这时候还没有虚函数，但是它仍然是有意义的。they allowed list and task classes to be defined。</p>
<h3 id="2-9-1-Polymorphism-without-Virtual-Functions"><a href="#2-9-1-Polymorphism-without-Virtual-Functions" class="headerlink" title="2.9.1 Polymorphism without Virtual Functions"></a>2.9.1 Polymorphism without Virtual Functions</h3><p>使用域操作符直接调用基类。</p>
<h3 id="2-9-2-Container-Classes-Without-Templates"><a href="#2-9-2-Container-Classes-Without-Templates" class="headerlink" title="2.9.2 Container Classes Without Templates"></a>2.9.2 Container Classes Without Templates</h3><p>I soon defined a few “standard” token-pasting macros and recommended a stylized macro usage based on them for generic classes [Stroustrup,1986,§7.3.5].</p>
<h3 id="2-9-3-The-Object-Layout-Model"><a href="#2-9-3-The-Object-Layout-Model" class="headerlink" title="2.9.3 The Object Layout Model"></a>2.9.3 The Object Layout Model</h3><p>子类基类直接连接到一起，实际的内存分布可能是分开的。子对象的概念。</p>
<h3 id="2-9-4-Retrospective"><a href="#2-9-4-Retrospective" class="headerlink" title="2.9.4 Retrospective"></a>2.9.4 Retrospective</h3><p>引入虚函数？</p>
<h2 id="2-10-The-Protection-Model"><a href="#2-10-The-Protection-Model" class="headerlink" title="2.10 The Protection Model"></a>2.10 The Protection Model</h2><p>最开始 only classes could be friends，后面才有别的。</p>
<h2 id="2-11-Run-Time-Guarantees"><a href="#2-11-Run-Time-Guarantees" class="headerlink" title="2.11 Run-Time Guarantees"></a>2.11 Run-Time Guarantees</h2><h3 id="2-11-1-Constructors-and-Destructors"><a href="#2-11-1-Constructors-and-Destructors" class="headerlink" title="2.11.1 Constructors and Destructors"></a>2.11.1 Constructors and Destructors</h3><h3 id="2-11-2-Allocation-and-Constructors"><a href="#2-11-2-Allocation-and-Constructors" class="headerlink" title="2.11.2 Allocation and Constructors"></a>2.11.2 Allocation and Constructors</h3><h3 id="2-11-3-Call-and-Return-Functions"><a href="#2-11-3-Call-and-Return-Functions" class="headerlink" title="2.11.3 Call and Return Functions"></a>2.11.3 Call and Return Functions</h3><p>不存在于 C++ 中。</p>
<h2 id="2-12-Minor-Features"><a href="#2-12-Minor-Features" class="headerlink" title="2.12 Minor Features"></a>2.12 Minor Features</h2><h3 id="2-12-1-Overloading-of-Assignment"><a href="#2-12-1-Overloading-of-Assignment" class="headerlink" title="2.12.1 Overloading of Assignment"></a>2.12.1 Overloading of Assignment</h3><h3 id="2-12-2-Default-Arguments"><a href="#2-12-2-Default-Arguments" class="headerlink" title="2.12.2 Default Arguments"></a>2.12.2 Default Arguments</h3><p>However, C with Classes had default argument lists for years before general overloading became available in C++.</p>
<h2 id="2-13-Features-Considered-but-not-Provided"><a href="#2-13-Features-Considered-but-not-Provided" class="headerlink" title="2.13 Features Considered, but not Provided"></a>2.13 Features Considered, but not Provided</h2><p>虚函数后来应用了，垃圾回收没用，并发性变成通过库实现，而不是语言。</p>
<h2 id="2-14-Work-Environment"><a href="#2-14-Work-Environment" class="headerlink" title="2.14 Work Environment"></a>2.14 Work Environment</h2><h2 id="3-The-Birth-of-C"><a href="#3-The-Birth-of-C" class="headerlink" title="3 The Birth of C++"></a>3 The Birth of C++</h2><h2 id="3-1-From-C-with-Classes-to-C"><a href="#3-1-From-C-with-Classes-to-C" class="headerlink" title="3.1 From C with Classes to C++"></a>3.1 From C with Classes to C++</h2><p>The name C++ was suggested by Rick Mascitti.</p>
<h2 id="3-2-Aims"><a href="#3-2-Aims" class="headerlink" title="3.2 Aims"></a>3.2 Aims</h2><h2 id="3-3-Cfront"><a href="#3-3-Cfront" class="headerlink" title="3.3 Cfront"></a>3.3 Cfront</h2><p>编译器前端，后端是 C 编译器。 Cpp -&gt; Cfront -&gt; Cc -&gt; ObjectCode</p>
<h3 id="3-3-1-Generating-C"><a href="#3-3-1-Generating-C" class="headerlink" title="3.3.1 Generating C"></a>3.3.1 Generating C</h3><h3 id="3-3-2-Parsing-C"><a href="#3-3-2-Parsing-C" class="headerlink" title="3.3.2 Parsing C++"></a>3.3.2 Parsing C++</h3><p>解析器</p>
<h3 id="3-3-3-Linkage-Problems"><a href="#3-3-3-Linkage-Problems" class="headerlink" title="3.3.3 Linkage Problems"></a>3.3.3 Linkage Problems</h3><h3 id="3-3-4-Cfront-Releases"><a href="#3-3-4-Cfront-Releases" class="headerlink" title="3.3.4 Cfront Releases"></a>3.3.4 Cfront Releases</h3><p>1.0(The C+ + Programming Language), 2.0(The Annotated C++ Reference), 3.0(templates, exception handling)</p>
<h2 id="3-4-Language-Features"><a href="#3-4-Language-Features" class="headerlink" title="3.4 Language Features"></a>3.4 Language Features</h2><h2 id="3-5-Virtual-Functions"><a href="#3-5-Virtual-Functions" class="headerlink" title="3.5 Virtual Functions"></a>3.5 Virtual Functions</h2><p>“The Simula67 INSPECT statement was deliberately not introduced into C++.<br>The reason for that is to encourage modularity through the use of virtual functions[Stroustrup,1986].”</p>
<h3 id="3-5-1-The-Object-Layout-Model"><a href="#3-5-1-The-Object-Layout-Model" class="headerlink" title="3.5.1 The Object Layout Model"></a>3.5.1 The Object Layout Model</h3><p>Each object of such a class contains a hidden pointer, often called the v p t r , to its class’s virtual function table.<br>Have a single concept: a single set of layout rules, a single set of lookup rules, a single set of resolution rules, etc.</p>
<h3 id="3-5-2-Overriding-and-Virtual-Function-Matching"><a href="#3-5-2-Overriding-and-Virtual-Function-Matching" class="headerlink" title="3.5.2 Overriding and Virtual Function Matching"></a>3.5.2 Overriding and Virtual Function Matching</h3><h3 id="3-5-3-Base-Member-Hiding"><a href="#3-5-3-Base-Member-Hiding" class="headerlink" title="3.5.3 Base Member Hiding"></a>3.5.3 Base Member Hiding</h3><h2 id="3-6-Overloading"><a href="#3-6-Overloading" class="headerlink" title="3.6 Overloading"></a>3.6 Overloading</h2><p>[Stroustrup, 1984b]</p>
<h3 id="3-6-1-Basic-Overloading"><a href="#3-6-1-Basic-Overloading" class="headerlink" title="3.6.1 Basic Overloading"></a>3.6.1 Basic Overloading</h3><p>隐式转换避免爆炸增长.</p>
<h3 id="3-6-2-Members-and-Friends"><a href="#3-6-2-Members-and-Friends" class="headerlink" title="3.6.2 Members and Friends"></a>3.6.2 Members and Friends</h3><p>I restricted operators [ ], (), and - &gt; to be members.</p>
<h3 id="3-6-3-Operator-Functions"><a href="#3-6-3-Operator-Functions" class="headerlink" title="3.6.3 Operator Functions"></a>3.6.3 Operator Functions</h3><h3 id="3-6-4-Efficiency-and-Overloading"><a href="#3-6-4-Efficiency-and-Overloading" class="headerlink" title="3.6.4 Efficiency and Overloading"></a>3.6.4 Efficiency and Overloading</h3><p>Increasing run-time efficiency by eliminating temporaries, (+= 比 + 更高效)</p>
<h3 id="3-6-5-Mutation-and-New-Operators"><a href="#3-6-5-Mutation-and-New-Operators" class="headerlink" title="3.6.5 Mutation and New Operators"></a>3.6.5 Mutation and New Operators</h3><p>只可以重载现有内置操作符,而不是自己创建.而且有些内置的也不适合重载.</p>
<h2 id="3-7-References"><a href="#3-7-References" class="headerlink" title="3.7 References"></a>3.7 References</h2><p>References were introduced primarily to support operator overloading.</p>
<h3 id="3-7-1-Lvalue-vs-Rvalue"><a href="#3-7-1-Lvalue-vs-Rvalue" class="headerlink" title="3.7.1 Lvalue vs. Rvalue"></a>3.7.1 Lvalue vs. Rvalue</h3><pre><code>class char_ref { // identify a character in a String
friend class String;
    int i ;
    String* s;
    char_ref(String* ss, int ii) { s=ss; i=ii; }
public:
    void operator=(char c);
    operator char();
};
</code></pre><p>s l [ i ] = s 2 [ j ]; means s1.operator<a href="i"></a> = s2.operator<a href="j"></a> -&gt;  s1.operator<a href="i"></a>.operator=(s2.operator<a href="j"></a>.operator char())</p>
<h2 id="3-8-Constants"><a href="#3-8-Constants" class="headerlink" title="3.8 Constants"></a>3.8 Constants</h2><p>I had experimented further with c o n s t in C with Classes and found that c o n s t was a useful alternative to macros<br>for representing constants only if global c o n s t s were implicitly local to their compilation unit.(全局才是C宏的替换)</p>
<h2 id="3-9-Memory-Management"><a href="#3-9-Memory-Management" class="headerlink" title="3.9 Memory Management"></a>3.9 Memory Management</h2><p>By definition, t h i s points to the object for which a member function is called.(this = my_alloc(sizeof(X));)</p>
<h2 id="3-10-Type-Checking"><a href="#3-10-Type-Checking" class="headerlink" title="3.10 Type Checking"></a>3.10 Type Checking</h2><h2 id="3-11-Minor-Features"><a href="#3-11-Minor-Features" class="headerlink" title="3.11 Minor Features"></a>3.11 Minor Features</h2><h3 id="3-11-1-Comments"><a href="#3-11-1-Comments" class="headerlink" title="3.11.1 Comments"></a>3.11.1 Comments</h3><h4 id="3-11-2-Constructor-Notation"><a href="#3-11-2-Constructor-Notation" class="headerlink" title="3.11.2 Constructor Notation"></a>3.11.2 Constructor Notation</h4><p>The concept was extended to allow constructors to be used explicitly in expressions.</p>
<h3 id="3-11-3-Qualification"><a href="#3-11-3-Qualification" class="headerlink" title="3.11.3 Qualification"></a>3.11.3 Qualification</h3><p>To alleviate 混淆, : : was introduced to mean membership of class, and . was retained exclusively for membership of object.</p>
<h3 id="3-11-4-Initialization-of-Global-Objects"><a href="#3-11-4-Initialization-of-Global-Objects" class="headerlink" title="3.11.4 Initialization of Global Objects"></a>3.11.4 Initialization of Global Objects</h3><p>Dynamic initialization is done in declaration order within a translation unit.(不同单元没有顺序,static initialization 在 dynamic initialization 之前完成.)<br>全局对象调用构造函数,是动态初始化的,<a href="依赖其它对象先初始化">3.11.4.1 Problems with Dynamic Initialization</a><a href="???">3.11.4.2 Workarounds for Order Dependencies</a><br><a href="completely general expressions for the initialization of class objects">3.11.4.3 Dynamic Initialization of Built-in Types</a></p>
<h3 id="3-11-5-Declaration-Statements"><a href="#3-11-5-Declaration-Statements" class="headerlink" title="3.11.5 Declaration Statements"></a>3.11.5 Declaration Statements</h3><p>I enabled an “initialize-only” or “single-assignment” style of programming that is less error-prone than traditional styles.<br>[3.11.5.1 Declarations in for-statements][3.11.5.2 Declarations in Conditions]if (Tok* ct = gettok()) 这竟然是推荐写法.依赖动态初始化.</p>
<h2 id="3-12-Relationship-to-Classic-C"><a href="#3-12-Relationship-to-Classic-C" class="headerlink" title="3.12 Relationship to Classic C"></a>3.12 Relationship to Classic C</h2><p>C struct didn’t constitute a scope, nested class scopes were reintroduced into C++ in 1989.<br>没有文件级别的范围,所以出现了名字空间.</p>
<h2 id="3-13-Tools-for-Language-Design"><a href="#3-13-Tools-for-Language-Design" class="headerlink" title="3.13 Tools for Language Design"></a>3.13 Tools for Language Design</h2><h2 id="3-14-The-C-Programming-Language-1st-edition"><a href="#3-14-The-C-Programming-Language-1st-edition" class="headerlink" title="3.14 The C++ Programming Language (1st edition)"></a>3.14 The C++ Programming Language (1st edition)</h2><h2 id="3-15-The-Whatis-Paper"><a href="#3-15-The-Whatis-Paper" class="headerlink" title="3.15 The Whatis? Paper"></a>3.15 The Whatis? Paper</h2><h1 id="4-C-Language-Design-Rules"><a href="#4-C-Language-Design-Rules" class="headerlink" title="4 C++ Language Design Rules"></a>4 C++ Language Design Rules</h1><h2 id="4-1-Rules-and-Principles"><a href="#4-1-Rules-and-Principles" class="headerlink" title="4.1 Rules and Principles"></a>4.1 Rules and Principles</h2><p>The first contains overall ideals for the whole language.<br>The second set of rules primarily addresses C++’s role in supporting design.<br>The third addresses technicalities related to the form of the language.<br>The fourth focuses on C++’s role as a language for low-level systems programming.</p>
<h2 id="4-2-General-Rules"><a href="#4-2-General-Rules" class="headerlink" title="4.2 General Rules"></a>4.2 General Rules</h2><pre><code>C++&apos;s evolution must be driven by real problems.
Don&apos;t get involved in a sterile quest for perfection.
C++ must be useful now.
Every feature must have a reasonably obvious implementation.
Always provide a transition path.
C++ is a language, not a complete system.
Provide comprehensive support for each supported style.
Don&apos;t try to force people.
</code></pre><h2 id="4-3-Design-Support-Rules"><a href="#4-3-Design-Support-Rules" class="headerlink" title="4.3 Design Support Rules"></a>4.3 Design Support Rules</h2><pre><code>Support sound design notions.
Provide facilities for program organization.
Say what you mean.
All features must be affordable.
It is more important to allow a useful feature than to prevent every misuse.
Support composition of software from separately developed parts.
</code></pre><h2 id="4-4-Language-Technical-Rules"><a href="#4-4-Language-Technical-Rules" class="headerlink" title="4.4 Language-Technical Rules"></a>4.4 Language-Technical Rules</h2><pre><code>No implicit violations of the static type system.
Provide as good support for user-defined types as for built-in types.
Locality is good.
Avoid order dependencies.
If in doubt, pick the variant of a feature that is easiest to teach.
Syntax matters (often in perverse ways).
Preprocessor usage should be eliminated.
</code></pre><p>4.5 Low-Level Programming Support Rules 120</p>
<p>4.6 A Final Word 122</p>
<h1 id="5-Chronology-1985-1993"><a href="#5-Chronology-1985-1993" class="headerlink" title="5 Chronology 1985-1993"></a>5 Chronology 1985-1993</h1><p>5.1 Introduction 123<br>5.2 Release 2.0 124<br>5.3 The Annotated Reference Manual 126<br>5.4 ANSI and ISO Standardization 128</p>
<h1 id="6-Standardization"><a href="#6-Standardization" class="headerlink" title="6 Standardization"></a>6 Standardization</h1><p>6.1 What is a Standard? 133<br>6.2 How does the Committee Operate? 136<br>6.3 Clarifications 138<br>6.4 Extensions 147<br>6.5 Examples of Proposed Extensions 153</p>
<h1 id="7-Interest-and-Use"><a href="#7-Interest-and-Use" class="headerlink" title="7 Interest and Use"></a>7 Interest and Use</h1><p>7.1 The Explosion in Interest and Use 163<br>7.2 Teaching and Learning C++ 168<br>7.3 Users and Applications 173<br>7.4 Commercial Competition 175</p>
<h1 id="8-Libraries"><a href="#8-Libraries" class="headerlink" title="8 Libraries"></a>8 Libraries</h1><p>8.1 Introduction 181<br>8.2 C++ Library Design 182<br>8.3 Early Libraries 184<br>8.4 Other Libraries 191<br>8.5 A Standard Library 194</p>
<h1 id="9-Looking-Ahead"><a href="#9-Looking-Ahead" class="headerlink" title="9 Looking Ahead"></a>9 Looking Ahead</h1><p>9.1 Introduction 195<br>9.2 Retrospective 195<br>9.3 Only a Bridge? 200<br>9.4 What Will Make C++ Much More Effective? 205</p>
<h1 id="Part-II-209"><a href="#Part-II-209" class="headerlink" title="Part II: 209"></a>Part II: 209</h1><h1 id="Memory-Management-211"><a href="#Memory-Management-211" class="headerlink" title="Memory Management 211"></a>Memory Management 211</h1><p>10.1 Introduction 211<br>10.2 Separating Allocation and Initialization 212<br>10.3 Array Allocation 213<br>10.4 Placement 214<br>10.5 Deallocation Problems 216<br>10.6 Memory Exhaustion 218<br>10.7 Automatic Garbage Collection 219</p>
<h1 id="Overloading-223"><a href="#Overloading-223" class="headerlink" title="Overloading 223"></a>Overloading 223</h1><p>11.1 Introduction 223<br>11.2 Overload Resolution 224<br>11.3 Type-Safe Linkage 232<br>11.4 Object Creation and Copying 237<br>11.5 Notational Convenience 241<br>11.6 Adding Operators to C++ 247<br>11.7 Enumerations 253</p>
<h1 id="Multiple-Inheritance-257"><a href="#Multiple-Inheritance-257" class="headerlink" title="Multiple Inheritance 257"></a>Multiple Inheritance 257</h1><p>12.1 Introduction 257<br>12.2 Ordinary Base Classes 258<br>12.3 Virtual Base Classes 259<br>12.4 The Object Layout Model 264<br>12.5 Method Combination 268<br>12.6 The Multiple Inheritance Controversy 269<br>12.7 Delegation 272<br>12.8 Renaming 273<br>12.9 Base and Member Initializers 275</p>
<h1 id="Class-Concept-Refinements-277"><a href="#Class-Concept-Refinements-277" class="headerlink" title="Class Concept Refinements 277"></a>Class Concept Refinements 277</h1><p>13.1 Introduction 277<br>13.2 Abstract Classes 277<br>13.3 const Member Functions 284<br>13.4 Static Member Functions 288<br>13.5 Nested Classes 289<br>13.6 Inherited:: 290<br>13.7 Relaxation of Overriding Rules 293<br>13.8 Multi-methods 297<br>13.9 Protected Members 301<br>13.10 Improved Code Generation 302<br>13.11 Pointers to Members 303</p>
<h1 id="Casting-305"><a href="#Casting-305" class="headerlink" title="Casting 305"></a>Casting 305</h1><p>14.1 Major Extensions 305<br>14.2 Run-Time Type Information 306<br>14.3 A New Cast Notation 327</p>
<h1 id="Templates-337"><a href="#Templates-337" class="headerlink" title="Templates 337"></a>Templates 337</h1><p>Support for parameterized types, name binding in templates</p>
<h2 id="15-1-Introduction-337"><a href="#15-1-Introduction-337" class="headerlink" title="15.1 Introduction 337"></a>15.1 Introduction 337</h2><p>The roots of templates lie in the wish to express parameterization of container classes.</p>
<h2 id="15-2-Templates-338"><a href="#15-2-Templates-338" class="headerlink" title="15.2 Templates 338"></a>15.2 Templates 338</h2><p>[2] Can objects of a parameterized type be used as efficiently as objects of a ‘ ‘hand-coded’’ type?</p>
<h2 id="15-3-Class-Templates-341"><a href="#15-3-Class-Templates-341" class="headerlink" title="15.3 Class Templates 341"></a>15.3 Class Templates 341</h2><p>类模板用来生成类，就像类用来生成对象一样。</p>
<h3 id="15-3-1-Non-type-Template-Arguments"><a href="#15-3-1-Non-type-Template-Arguments" class="headerlink" title="15.3.1 Non-type Template Arguments"></a>15.3.1 Non-type Template Arguments</h3><p>These were primarily seen as necessary for supplying sizes and limits to container classes.<br>Passing a size allows the implementer of a container to avoid free store use.</p>
<h2 id="15-4-Constraints-on-Template-Arguments-343"><a href="#15-4-Constraints-on-Template-Arguments-343" class="headerlink" title="15.4 Constraints on Template Arguments 343"></a>15.4 Constraints on Template Arguments 343</h2><h3 id="15-4-1-Constraints-through-Derivation"><a href="#15-4-1-Constraints-through-Derivation" class="headerlink" title="15.4.1 Constraints through Derivation"></a>15.4.1 Constraints through Derivation</h3><p>使用继承表示约束，问题多多。</p>
<h3 id="15-4-2-Constraints-through-Use"><a href="#15-4-2-Constraints-through-Use" class="headerlink" title="15.4.2 Constraints through Use"></a>15.4.2 Constraints through Use</h3><p>模板声明后面使用约束函数。</p>
<h2 id="15-5-Avoiding-Code-Replication-346"><a href="#15-5-Avoiding-Code-Replication-346" class="headerlink" title="15.5 Avoiding Code Replication 346"></a>15.5 Avoiding Code Replication 346</h2><p>确保相同的实例化，在不同翻译单元只有一份。<br>Code for a non-virtual base class function is shared among its derived classes。</p>
<h2 id="15-6-Function-Templates-348"><a href="#15-6-Function-Templates-348" class="headerlink" title="15.6 Function Templates 348"></a>15.6 Function Templates 348</h2><h3 id="15-6-1-Deducing-Function-Template-Arguments"><a href="#15-6-1-Deducing-Function-Template-Arguments" class="headerlink" title="15.6.1 Deducing Function Template Arguments"></a>15.6.1 Deducing Function Template Arguments</h3><p>One couldn’t define non-inlined non-member functions operating on a template class that took a non-type template argument.</p>
<h3 id="15-6-2-Specifying-Function-Template-Arguments"><a href="#15-6-2-Specifying-Function-Template-Arguments" class="headerlink" title="15.6.2 Specifying Function Template Arguments"></a>15.6.2 Specifying Function Template Arguments</h3><p>模板函数不能推断返回值。显示可以用来指定返回值类型。<br>Explicit specification of template arguments allows the definition of families of conversion functions and object creation functions.<br>The syntax for the new cast operators (§14.3) and for explicitly qualified template function calls were chosen to match.</p>
<h3 id="15-6-3-Function-Template-Overloading"><a href="#15-6-3-Function-Template-Overloading" class="headerlink" title="15.6.3 Function Template Overloading"></a>15.6.3 Function Template Overloading</h3><h4 id="15-6-3-1-Conditionals-in-Templates"><a href="#15-6-3-1-Conditionals-in-Templates" class="headerlink" title="[]15.6.3.1 Conditionals in Templates"></a>[]15.6.3.1 Conditionals in Templates</h4><p>every property of a type or an algorithm can be represented by a type.</p>
<h2 id="15-7-Syntax-355"><a href="#15-7-Syntax-355" class="headerlink" title="15.7 Syntax 355"></a>15.7 Syntax 355</h2><h2 id="15-8-Composition-Techniques-356"><a href="#15-8-Composition-Techniques-356" class="headerlink" title="15.8 Composition Techniques 356"></a>15.8 Composition Techniques 356</h2><p>The smooth interaction between derivation and templates has been a continuous source of pleasant surprises to me.</p>
<h3 id="15-8-1-Representing-Implementation-Policies"><a href="#15-8-1-Representing-Implementation-Policies" class="headerlink" title="15.8.1 Representing Implementation Policies"></a>15.8.1 Representing Implementation Policies</h3><h3 id="15-8-2-Representing-Ordering-Relationships"><a href="#15-8-2-Representing-Ordering-Relationships" class="headerlink" title="15.8.2 Representing Ordering Relationships"></a>15.8.2 Representing Ordering Relationships</h3><h2 id="15-9-Template-Class-Relationships-360"><a href="#15-9-Template-Class-Relationships-360" class="headerlink" title="15.9 Template Class Relationships 360"></a>15.9 Template Class Relationships 360</h2><h2 id="15-10-Template-Instantiation-365"><a href="#15-10-Template-Instantiation-365" class="headerlink" title="15.10 Template Instantiation 365"></a>15.10 Template Instantiation 365</h2><h2 id="15-11-Implications-of-Templates-378"><a href="#15-11-Implications-of-Templates-378" class="headerlink" title="15.11 Implications of Templates 378"></a>15.11 Implications of Templates 378</h2><h1 id="Exception-Handling-383"><a href="#Exception-Handling-383" class="headerlink" title="Exception Handling 383"></a>Exception Handling 383</h1><p>16.1 Introduction 383<br>16.2 Aims and Assumptions 384<br>16.3 Syntax 385<br>16.4 Grouping 386<br>16.5 Resource Management 388<br>16.5 Resumption vs. Termination 390<br>16.5 Asynchronous Events 393<br>16.6 Multi-level Propagation 394<br>16.7 Static Checking 395<br>16.8 Invariants 397</p>
<h1 id="Namespaces-399"><a href="#Namespaces-399" class="headerlink" title="Namespaces 399"></a>Namespaces 399</h1><p>17.1 Introduction 399<br>17.2 The Problem 400<br>17.3 Ideals for a Solution 402<br>17.4 The Solution: Namespaces 404<br>17.5 Implications for Classes 417<br>17.6 C Compatibility 420</p>
<h1 id="The-C-Preprocessor-423"><a href="#The-C-Preprocessor-423" class="headerlink" title="The C Preprocessor 423"></a>The C Preprocessor 423</h1><p>18.1 Cpp 423</p>
<h4 id="2-11-Run-Time-Guarantees-1"><a href="#2-11-Run-Time-Guarantees-1" class="headerlink" title="2.11 Run-Time Guarantees"></a>2.11 Run-Time Guarantees</h4>
    </div>

    <div class="post-footer">
        <div>
            
                转载声明：商业转载请联系作者获得授权,非商业转载请注明出处 © <a href="" target="_blank">theForger</a>
            
        </div>
        <div>
            
        </div>
    </div>
</article>

<div class="article-nav prev-next-wrap clearfix">
    
        <a href="/2018/09/29/Refactoring-ImprovingTheDesignOfExistiongCode/" class="pre-post btn btn-default" title='Refactoring_ImprovingTheDesignOfExistiongCode'>
            <i class="fa fa-angle-left fa-fw"></i><span class="hidden-lg">上一篇</span>
            <span class="hidden-xs">Refactoring_ImprovingTheDesignOfExistiongCode</span>
        </a>
    
    
        <a href="/2018/09/21/CppCoreGuidelines/" class="next-post btn btn-default" title='CppCoreGuidelines'>
            <span class="hidden-lg">下一篇</span>
            <span class="hidden-xs">CppCoreGuidelines</span><i class="fa fa-angle-right fa-fw"></i>
        </a>
    
</div>


    <div id="comments">
        
	
  <script id="dsq-count-scr" src="https://israel-liu.disqus.com/count.js" async></script>


<script type="text/javascript">
  var disqus_config = function () {
    this.page.url = 'https://israel-liu.github.io/2018/09/27/The-Design-And-Evolution-Of-Cpp/';
    this.page.identifier = '2018/09/27/The-Design-And-Evolution-Of-Cpp/';
    this.page.title = 'The Design And Evolution Of Cpp';
  };
  var d = document, s = d.createElement('script');
  s.src = 'https://israel-liu.disqus.com/embed.js';
  s.setAttribute('data-timestamp', '' + +new Date());
  (d.head || d.body).appendChild(s);
</script>


	

    </div>





                </main>
                
                    <aside id="article-toc" role="navigation" class="col-md-4">
    <div class="widget">
        <h3 class="title">文章目录</h3>
        <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#豆瓣书评"><span class="toc-text">豆瓣书评</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#0-Notes-to-the-Reader"><span class="toc-text">0 Notes to the Reader</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Introduction"><span class="toc-text">Introduction</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#How-to-Read-this-Book"><span class="toc-text">How to Read this Book</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Focus-on-Use-and-Users"><span class="toc-text">Focus on Use and Users</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Programming-Languages"><span class="toc-text">Programming Languages</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#References"><span class="toc-text">References</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Part-I-Chapters"><span class="toc-text">Part I Chapters</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-The-Prehistory-of-C"><span class="toc-text">1 The Prehistory of C++</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-1-Simula-and-Distributed-Systems"><span class="toc-text">1.1 Simula and Distributed Systems</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-2-C-and-Systems-Programming"><span class="toc-text">1.2 C and Systems Programming</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-3-General-Background"><span class="toc-text">1.3 General Background</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-C-with-Classes"><span class="toc-text">2 C with Classes</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#2-1-The-Birth-of-C-with-Classes"><span class="toc-text">2.1 The Birth of C with Classes</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-2-Feature-overview"><span class="toc-text">2.2 Feature overview</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-3-Classes"><span class="toc-text">2.3 Classes</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-4-Run-Time-Efficiency"><span class="toc-text">2.4 Run-Time Efficiency</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-4-1-Inlining"><span class="toc-text">2.4.1 Inlining,</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-5-The-Linkage-Model"><span class="toc-text">2.5 The Linkage Model</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-1-Simple-Minded-Implementations"><span class="toc-text">2.5.1 Simple-Minded Implementations</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-5-2-The-Object-Layout-Model"><span class="toc-text">2.5.2 The Object Layout Model</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-6-Static-Type-Checking"><span class="toc-text">2.6 Static Type Checking</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-1-Narrowing-Conversions"><span class="toc-text">2.6.1 Narrowing Conversions</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-6-2-Use-of-Warnings"><span class="toc-text">2.6.2 Use of Warnings</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-7-Why-C"><span class="toc-text">2.7 Why C?</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-8-Syntax-Problems"><span class="toc-text">2.8 Syntax Problems</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-8-1-The-C-Declaration-Syntax"><span class="toc-text">2.8.1 The C Declaration Syntax</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-8-2-Structure-Tags-vs-Type-Names"><span class="toc-text">2.8.2 Structure Tags vs. Type Names</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-8-3-The-Importance-of-Syntax"><span class="toc-text">2.8.3 The Importance of Syntax</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-9-Derived-Classes"><span class="toc-text">2.9 Derived Classes</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-9-1-Polymorphism-without-Virtual-Functions"><span class="toc-text">2.9.1 Polymorphism without Virtual Functions</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-9-2-Container-Classes-Without-Templates"><span class="toc-text">2.9.2 Container Classes Without Templates</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-9-3-The-Object-Layout-Model"><span class="toc-text">2.9.3 The Object Layout Model</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-9-4-Retrospective"><span class="toc-text">2.9.4 Retrospective</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-10-The-Protection-Model"><span class="toc-text">2.10 The Protection Model</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-11-Run-Time-Guarantees"><span class="toc-text">2.11 Run-Time Guarantees</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-11-1-Constructors-and-Destructors"><span class="toc-text">2.11.1 Constructors and Destructors</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-11-2-Allocation-and-Constructors"><span class="toc-text">2.11.2 Allocation and Constructors</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-11-3-Call-and-Return-Functions"><span class="toc-text">2.11.3 Call and Return Functions</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-12-Minor-Features"><span class="toc-text">2.12 Minor Features</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-12-1-Overloading-of-Assignment"><span class="toc-text">2.12.1 Overloading of Assignment</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-12-2-Default-Arguments"><span class="toc-text">2.12.2 Default Arguments</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-13-Features-Considered-but-not-Provided"><span class="toc-text">2.13 Features Considered, but not Provided</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-14-Work-Environment"><span class="toc-text">2.14 Work Environment</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-The-Birth-of-C"><span class="toc-text">3 The Birth of C++</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-1-From-C-with-Classes-to-C"><span class="toc-text">3.1 From C with Classes to C++</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-2-Aims"><span class="toc-text">3.2 Aims</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-3-Cfront"><span class="toc-text">3.3 Cfront</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-1-Generating-C"><span class="toc-text">3.3.1 Generating C</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-2-Parsing-C"><span class="toc-text">3.3.2 Parsing C++</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-3-Linkage-Problems"><span class="toc-text">3.3.3 Linkage Problems</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-3-4-Cfront-Releases"><span class="toc-text">3.3.4 Cfront Releases</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-4-Language-Features"><span class="toc-text">3.4 Language Features</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-5-Virtual-Functions"><span class="toc-text">3.5 Virtual Functions</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5-1-The-Object-Layout-Model"><span class="toc-text">3.5.1 The Object Layout Model</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5-2-Overriding-and-Virtual-Function-Matching"><span class="toc-text">3.5.2 Overriding and Virtual Function Matching</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5-3-Base-Member-Hiding"><span class="toc-text">3.5.3 Base Member Hiding</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-6-Overloading"><span class="toc-text">3.6 Overloading</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-6-1-Basic-Overloading"><span class="toc-text">3.6.1 Basic Overloading</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-6-2-Members-and-Friends"><span class="toc-text">3.6.2 Members and Friends</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-6-3-Operator-Functions"><span class="toc-text">3.6.3 Operator Functions</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-6-4-Efficiency-and-Overloading"><span class="toc-text">3.6.4 Efficiency and Overloading</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-6-5-Mutation-and-New-Operators"><span class="toc-text">3.6.5 Mutation and New Operators</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-7-References"><span class="toc-text">3.7 References</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-7-1-Lvalue-vs-Rvalue"><span class="toc-text">3.7.1 Lvalue vs. Rvalue</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-8-Constants"><span class="toc-text">3.8 Constants</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-9-Memory-Management"><span class="toc-text">3.9 Memory Management</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-10-Type-Checking"><span class="toc-text">3.10 Type Checking</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-11-Minor-Features"><span class="toc-text">3.11 Minor Features</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-11-1-Comments"><span class="toc-text">3.11.1 Comments</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#3-11-2-Constructor-Notation"><span class="toc-text">3.11.2 Constructor Notation</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-11-3-Qualification"><span class="toc-text">3.11.3 Qualification</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-11-4-Initialization-of-Global-Objects"><span class="toc-text">3.11.4 Initialization of Global Objects</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-11-5-Declaration-Statements"><span class="toc-text">3.11.5 Declaration Statements</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-12-Relationship-to-Classic-C"><span class="toc-text">3.12 Relationship to Classic C</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-13-Tools-for-Language-Design"><span class="toc-text">3.13 Tools for Language Design</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-14-The-C-Programming-Language-1st-edition"><span class="toc-text">3.14 The C++ Programming Language (1st edition)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-15-The-Whatis-Paper"><span class="toc-text">3.15 The Whatis? Paper</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#4-C-Language-Design-Rules"><span class="toc-text">4 C++ Language Design Rules</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#4-1-Rules-and-Principles"><span class="toc-text">4.1 Rules and Principles</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-2-General-Rules"><span class="toc-text">4.2 General Rules</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-3-Design-Support-Rules"><span class="toc-text">4.3 Design Support Rules</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-4-Language-Technical-Rules"><span class="toc-text">4.4 Language-Technical Rules</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#5-Chronology-1985-1993"><span class="toc-text">5 Chronology 1985-1993</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#6-Standardization"><span class="toc-text">6 Standardization</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#7-Interest-and-Use"><span class="toc-text">7 Interest and Use</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#8-Libraries"><span class="toc-text">8 Libraries</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#9-Looking-Ahead"><span class="toc-text">9 Looking Ahead</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Part-II-209"><span class="toc-text">Part II: 209</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Memory-Management-211"><span class="toc-text">Memory Management 211</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Overloading-223"><span class="toc-text">Overloading 223</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Multiple-Inheritance-257"><span class="toc-text">Multiple Inheritance 257</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Class-Concept-Refinements-277"><span class="toc-text">Class Concept Refinements 277</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Casting-305"><span class="toc-text">Casting 305</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Templates-337"><span class="toc-text">Templates 337</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#15-1-Introduction-337"><span class="toc-text">15.1 Introduction 337</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15-2-Templates-338"><span class="toc-text">15.2 Templates 338</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15-3-Class-Templates-341"><span class="toc-text">15.3 Class Templates 341</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#15-3-1-Non-type-Template-Arguments"><span class="toc-text">15.3.1 Non-type Template Arguments</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15-4-Constraints-on-Template-Arguments-343"><span class="toc-text">15.4 Constraints on Template Arguments 343</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#15-4-1-Constraints-through-Derivation"><span class="toc-text">15.4.1 Constraints through Derivation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-4-2-Constraints-through-Use"><span class="toc-text">15.4.2 Constraints through Use</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15-5-Avoiding-Code-Replication-346"><span class="toc-text">15.5 Avoiding Code Replication 346</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15-6-Function-Templates-348"><span class="toc-text">15.6 Function Templates 348</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#15-6-1-Deducing-Function-Template-Arguments"><span class="toc-text">15.6.1 Deducing Function Template Arguments</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-6-2-Specifying-Function-Template-Arguments"><span class="toc-text">15.6.2 Specifying Function Template Arguments</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-6-3-Function-Template-Overloading"><span class="toc-text">15.6.3 Function Template Overloading</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#15-6-3-1-Conditionals-in-Templates"><span class="toc-text">[]15.6.3.1 Conditionals in Templates</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15-7-Syntax-355"><span class="toc-text">15.7 Syntax 355</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15-8-Composition-Techniques-356"><span class="toc-text">15.8 Composition Techniques 356</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#15-8-1-Representing-Implementation-Policies"><span class="toc-text">15.8.1 Representing Implementation Policies</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#15-8-2-Representing-Ordering-Relationships"><span class="toc-text">15.8.2 Representing Ordering Relationships</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15-9-Template-Class-Relationships-360"><span class="toc-text">15.9 Template Class Relationships 360</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15-10-Template-Instantiation-365"><span class="toc-text">15.10 Template Instantiation 365</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15-11-Implications-of-Templates-378"><span class="toc-text">15.11 Implications of Templates 378</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Exception-Handling-383"><span class="toc-text">Exception Handling 383</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Namespaces-399"><span class="toc-text">Namespaces 399</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#The-C-Preprocessor-423"><span class="toc-text">The C Preprocessor 423</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#2-11-Run-Time-Guarantees-1"><span class="toc-text">2.11 Run-Time Guarantees</span></a></li></ol></li></ol>
    </div>
</aside>

                
            </div>
        </div>
    </section>
    <footer class="main-footer">
    <div class="container">
        <div class="row">
        </div>
    </div>
</footer>

<!--<a id="toc-btn">
    <i class="fa fa-bars"></i>
</a>-->

<a id="back-to-top" class="icon-btn hide">
	<i class="fa fa-chevron-up"></i>
</a>




    <div class="copyright">
    <div class="container">
        <div class="row">
            <div class="col-sm-12"> 
                <span>Copyright &copy; 2017
                </span> | 
                <span>
                    Powered by <a href="//hexo.io" class="copyright-links" target="_blank" rel="nofollow">Hexo</a>
                </span> | 
                <span>
                    Theme by <a href="//github.com/shenliyang/hexo-theme-snippet.git" class="copyright-links" target="_blank" rel="nofollow">Snippet</a>
                </span>
            </div>
        </div>
    </div>
</div>



	<script src="/js/search.js?rev=@@hash"></script>


<script src="/js/app.js?rev=@@hash"></script>


</body>
</html>