<!DOCTYPE HTML>
<html lang="null">
<head>
    <!--Setting-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <meta http-equiv="Cache-Control" content="no-transform">
    <meta name="renderer" content="webkit|ie-comp|ie-stand">
    <meta name="apple-mobile-web-app-capable" content="五年C++程序员的口水博客">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="format-detection" content="telephone=no,email=no,adress=no">
    <meta name="browsermode" content="application">
    <meta name="screen-orientation" content="portrait">
    <link rel="dns-prefetch" href="https://israel-liu.github.io">
    <!--SEO-->





<meta name="robots" content="all" />
<meta name="google" content="all" />
<meta name="googlebot" content="all" />
<meta name="verify" content="all" />
    <!--Title-->


<title>A Tour of Cpp | 五年C++程序员的口水博客</title>


    <link rel="alternate" href="/atom.xml" title="五年C++程序员的口水博客" type="application/atom+xml">


    <link rel="icon" href="/favicon.ico">

    



<link rel="stylesheet" href="/css/bootstrap.min.css?rev=3.3.7">
<link rel="stylesheet" href="/css/font-awesome.min.css?rev=4.5.0">
<link rel="stylesheet" href="/css/style.css?rev=@@hash">




    
	<div class="hide">
		<script type="text/javascript">
			var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan class='cnzz_stat_icon_1263868967 hide' %3E%3Cscript%20src%3D%22https%3A%2F%2Fs95.cnzz.com%2Fz_stat.php%3Fweb_id%3D1272564536%22%3E%3C%2Fscript%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s19.cnzz.com/z_stat.php%3Fid%3D1263868967%26show%3Dpic1' type='text/javascript'%3E%3C/script%3E"));
		</script>
	</div>






    
</head>


<!--[if lte IE 8]>
<style>
    html{ font-size: 1em }
</style>
<![endif]-->
<!--[if lte IE 9]>
<div style="ie">你使用的浏览器版本过低，为了你更好的阅读体验，请更新浏览器的版本或者使用其他现代浏览器，比如Chrome、Firefox、Safari等。</div>
<![endif]-->

<body>
    <header class="main-header"  style="background-image:url(https://github.com/israel-Liu/theForger/raw/master/images/byosoku.jpg)"  >
    <div class="main-header-box">
        <a class="header-avatar" href="/" title='Licca Chen'>
            <img src="/img/avatar.JPG" alt="logo头像" class="img-responsive center-block">
        </a>
        <div class="branding">
        	<!--<h2 class="text-hide">Snippet主题,从未如此简单有趣</h2>-->
            
                 <img src="/img/branding.png" alt="Snippet 博客主题" class="img-responsive center-block">
            
    	</div>
    </div>
</header>

    <nav class="main-navigation">
    <div class="container">
        <div class="row">
            <div class="col-sm-12">
                <div class="navbar-header"><span class="nav-toggle-button collapsed pull-right" data-toggle="collapse" data-target="#main-menu" id="mnav">
                    <span class="sr-only"></span>
                        <i class="fa fa-bars"></i>
                    </span>
                    <a class="navbar-brand" href="https://israel-liu.github.io">五年C++程序员的口水博客</a>
                </div>
                <div class="collapse navbar-collapse" id="main-menu">
                    <ul class="menu">
                        
                            <li role="presentation" class="text-center">
                                <a href="/"><i class="fa "></i>Home</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/archives/"><i class="fa "></i>timeline</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/tags/"><i class="fa "></i>Tags</a>
                            </li>
                        
                            <li role="presentation" class="text-center">
                                <a href="/about/"><i class="fa "></i>About</a>
                            </li>
                        
                    </ul>
                </div>
            </div>
        </div>
    </div>
</nav>

    <section class="content-wrap">
        <div class="container">
            <div class="row">
                <main class="col-md-8 main-content m-post">
                    <p id="process"></p>
<article class="post">
    <div class="post-head">
        <h1 id="A Tour of Cpp">
            
	            A Tour of Cpp
            
        </h1>
        <div class="post-meta">
    
    
    <span class="categories-meta fa-wrap">
        <i class="fa fa-folder-open-o"></i>
        <a href="/categories/ ">
             
        </a>
    </span>
    
    
    <span class="fa-wrap">
        <i class="fa fa-tags"></i>
        <span class="tags-meta">
            
                
                    <a href="/tags/C++" title='C++'>
                        C++
                    </a>
                
            
        </span>
    </span>
    

    
        
        <span class="fa-wrap">
            <i class="fa fa-clock-o"></i>
            <span class="date-meta">2019/06/25</span>
        </span>
    
</div>

            
            
    </div>
    
    <div class="post-body post-content">
        <h1 id="Preface-ix"><a href="#Preface-ix" class="headerlink" title="Preface ix"></a>Preface ix</h1><h1 id="1-The-Basics-1"><a href="#1-The-Basics-1" class="headerlink" title="1 The Basics 1"></a>1 The Basics 1</h1><h2 id="1-1-Introduction-………………………………………………………………………-1"><a href="#1-1-Introduction-………………………………………………………………………-1" class="headerlink" title="1.1 Introduction ……………………………………………………………………… 1"></a>1.1 Introduction ……………………………………………………………………… 1</h2><h2 id="1-2-Programs-…………………………………………………………………………-1"><a href="#1-2-Programs-…………………………………………………………………………-1" class="headerlink" title="1.2 Programs …………………………………………………………………………. 1"></a>1.2 Programs …………………………………………………………………………. 1</h2><p>C++ is a statically typed language.</p>
<h2 id="1-3-Hello-World-……………………………………………………………………-2"><a href="#1-3-Hello-World-……………………………………………………………………-2" class="headerlink" title="1.3 Hello, World! …………………………………………………………………… 2"></a>1.3 Hello, World! …………………………………………………………………… 2</h2><h2 id="1-4-Functions-…………………………………………………………………………-3"><a href="#1-4-Functions-…………………………………………………………………………-3" class="headerlink" title="1.4 Functions …………………………………………………………………………. 3"></a>1.4 Functions …………………………………………………………………………. 3</h2><p>The semantics of argument passing are identical to the semantics of copy initialization.<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// The type of a function consists of the return type and the argument types.</span></span><br><span class="line"><span class="comment">// For class member functions, the name of the class is also part of the function type.</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">double</span> <span class="title">get</span><span class="params">(<span class="keyword">const</span> <span class="built_in">vector</span>&lt;<span class="keyword">double</span>&gt;&amp; vec, <span class="keyword">int</span> index)</span></span>; <span class="comment">// type: double(const vector&lt;double&gt;&amp;,int)</span></span><br><span class="line"><span class="keyword">char</span>&amp; String::<span class="keyword">operator</span>[](<span class="keyword">int</span> index); <span class="comment">// type: char&amp; String::(int)</span></span><br></pre></td></tr></table></figure></p>
<h2 id="1-5-Types-Variables-and-Arithmetic-…………………………………………-5"><a href="#1-5-Types-Variables-and-Arithmetic-…………………………………………-5" class="headerlink" title="1.5 Types, Variables, and Arithmetic ………………………………………… 5"></a>1.5 Types, Variables, and Arithmetic ………………………………………… 5</h2><p>Every name and every expression has a type that determines the operations that may be performed on it.</p>
<h2 id="1-6-Scope-………………………………………………………………………………-8"><a href="#1-6-Scope-………………………………………………………………………………-8" class="headerlink" title="1.6 Scope ………………………………………………………………………………. 8"></a>1.6 Scope ………………………………………………………………………………. 8</h2><p>For a namespace object the point of destruction is the end of the program.</p>
<h2 id="1-7-Constants-…………………………………………………………………………-8"><a href="#1-7-Constants-…………………………………………………………………………-8" class="headerlink" title="1.7 Constants …………………………………………………………………………. 8"></a>1.7 Constants …………………………………………………………………………. 8</h2><p>constexpr: meaning roughly ‘‘to be evaluated at compile time.’’ This is used primarily to specify constants,<br>to allow placement of data in read-only memory (where it is unlikely to be corrupted) and for performance.</p>
<h2 id="1-8-Pointers-Arrays-and-References-…………………………………………-9"><a href="#1-8-Pointers-Arrays-and-References-…………………………………………-9" class="headerlink" title="1.8 Pointers, Arrays, and References ………………………………………… 9"></a>1.8 Pointers, Arrays, and References ………………………………………… 9</h2><p>The range-for-statement can be used for any sequence of elements (§10.1).</p>
<h2 id="1-9-Tests-………………………………………………………………………………-12"><a href="#1-9-Tests-………………………………………………………………………………-12" class="headerlink" title="1.9 Tests ……………………………………………………………………………….. 12"></a>1.9 Tests ……………………………………………………………………………….. 12</h2><h2 id="1-10-Advice-……………………………………………………………………………-14"><a href="#1-10-Advice-……………………………………………………………………………-14" class="headerlink" title="1.10 Advice …………………………………………………………………………….. 14"></a>1.10 Advice …………………………………………………………………………….. 14</h2><p>[4] Focus on programming techniques, not on language features.<br>[13] Keep common and local names short, and keep uncommon and nonlocal names longer.(和可见范围成正比)<br>[16] Prefer the {}-initializer syntax for declarations with a named type; §1.5.<br>[17] Prefer the = syntax for the initialization in declarations using auto; §1.5.</p>
<h1 id="2-User-Defined-Types-15"><a href="#2-User-Defined-Types-15" class="headerlink" title="2 User-Defined Types 15"></a>2 User-Defined Types 15</h1><h2 id="2-1-Introduction-………………………………………………………………………-15"><a href="#2-1-Introduction-………………………………………………………………………-15" class="headerlink" title="2.1 Introduction ……………………………………………………………………… 15"></a>2.1 Introduction ……………………………………………………………………… 15</h2><h2 id="2-2-Structures-…………………………………………………………………………-16"><a href="#2-2-Structures-…………………………………………………………………………-16" class="headerlink" title="2.2 Structures ………………………………………………………………………… 16"></a>2.2 Structures ………………………………………………………………………… 16</h2><h2 id="2-3-Classes-……………………………………………………………………………-17"><a href="#2-3-Classes-……………………………………………………………………………-17" class="headerlink" title="2.3 Classes ……………………………………………………………………………. 17"></a>2.3 Classes ……………………………………………………………………………. 17</h2><p>There is no fundamental difference between a struct and a class;</p>
<h2 id="2-4-Unions-……………………………………………………………………………-19"><a href="#2-4-Unions-……………………………………………………………………………-19" class="headerlink" title="2.4 Unions …………………………………………………………………………….. 19"></a>2.4 Unions …………………………………………………………………………….. 19</h2><p>A union is a struct in which all members are allocated at the same address<br>so that the union occupies only as much space as its largest member.</p>
<h2 id="2-5-Enumerations-……………………………………………………………………-20"><a href="#2-5-Enumerations-……………………………………………………………………-20" class="headerlink" title="2.5 Enumerations …………………………………………………………………… 20"></a>2.5 Enumerations …………………………………………………………………… 20</h2><p>The enumerators from a ‘‘plain’’ enum are entered into the same scope<br>as the name of their enum and implicitly converts to their integer value.</p>
<h2 id="2-6-Advice-……………………………………………………………………………-21"><a href="#2-6-Advice-……………………………………………………………………………-21" class="headerlink" title="2.6 Advice …………………………………………………………………………….. 21"></a>2.6 Advice …………………………………………………………………………….. 21</h2><p>[6] Avoid ‘‘naked’’ unions; wrap them in a class together with a type field; §2.4.</p>
<h1 id="3-Modularity-23"><a href="#3-Modularity-23" class="headerlink" title="3 Modularity 23"></a>3 Modularity 23</h1><h2 id="3-1-Introduction-………………………………………………………………………-23"><a href="#3-1-Introduction-………………………………………………………………………-23" class="headerlink" title="3.1 Introduction ……………………………………………………………………… 23"></a>3.1 Introduction ……………………………………………………………………… 23</h2><p>At the language level, C++ represents interfaces by declarations.<br>A declaration specifies all that’s needed to use a function or a type.</p>
<h2 id="3-2-Separate-Compilation-…………………………………………………………-24"><a href="#3-2-Separate-Compilation-…………………………………………………………-24" class="headerlink" title="3.2 Separate Compilation ………………………………………………………… 24"></a>3.2 Separate Compilation ………………………………………………………… 24</h2><p>The definitions of those types and functions are in separate source files and compiled separately.</p>
<h2 id="3-3-Namespaces-………………………………………………………………………-26"><a href="#3-3-Namespaces-………………………………………………………………………-26" class="headerlink" title="3.3 Namespaces ……………………………………………………………………… 26"></a>3.3 Namespaces ……………………………………………………………………… 26</h2><p>They simplify the composition of a program out of separately developed parts.</p>
<h2 id="3-4-Error-Handling-…………………………………………………………………-27"><a href="#3-4-Error-Handling-…………………………………………………………………-27" class="headerlink" title="3.4 Error Handling …………………………………………………………………. 27"></a>3.4 Error Handling …………………………………………………………………. 27</h2><p>It is a good idea to design and articulate a strategy for error handling early on in the development of a program.</p>
<h3 id="3-4-1-Exceptions"><a href="#3-4-1-Exceptions" class="headerlink" title="3.4.1 Exceptions"></a>3.4.1 Exceptions</h3><p>To do that, the implementation will unwind the function call stack as needed to get back to the context of that caller.</p>
<h3 id="3-4-2-Invariants"><a href="#3-4-2-Invariants" class="headerlink" title="3.4.2 Invariants"></a>3.4.2 Invariants</h3><p>Such a statement of what is assumed to be true for a class is called a class invariant, or simply an invariant.</p>
<h3 id="3-4-3-Static-Assertions"><a href="#3-4-3-Static-Assertions" class="headerlink" title="3.4.3 Static Assertions"></a>3.4.3 Static Assertions</h3><p>That’s what much of the type system and the facilities for specifying the interfaces to user-defined types are for.<br>The static_asser t mechanism can be used for anything that can be expressed in terms of constant expressions (§1.7).</p>
<p>##3.5 Advice …………………………………………………………………………….. 31<br>[5] Avoid non-inline function definitions in headers; §3.2.<br>[8] Don’t put a using-directive in a header file; §3.3.<br>[12] Use purpose-designed user-defined types as exceptions (not built-in types); §3.4.1.<br>[15] Let a constructor establish an invariant, and throw if it cannot; §3.4.2.<br>[17] What can be checked at compile time is usually best checked at compile time (using static_asser t); §3.4.3.</p>
<h1 id="4-Classes-33"><a href="#4-Classes-33" class="headerlink" title="4 Classes 33"></a>4 Classes 33</h1><h2 id="4-1-Introduction-………………………………………………………………………-33"><a href="#4-1-Introduction-………………………………………………………………………-33" class="headerlink" title="4.1 Introduction ……………………………………………………………………… 33"></a>4.1 Introduction ……………………………………………………………………… 33</h2><h2 id="4-2-Concrete-Types-…………………………………………………………………-34"><a href="#4-2-Concrete-Types-…………………………………………………………………-34" class="headerlink" title="4.2 Concrete Types …………………………………………………………………. 34"></a>4.2 Concrete Types …………………………………………………………………. 34</h2><p>The basic idea of concrete classes is that they behave ‘‘just like built-in types.’’</p>
<h3 id="4-2-1-An-Arithmetic-Type"><a href="#4-2-1-An-Arithmetic-Type" class="headerlink" title="4.2.1 An Arithmetic Type"></a>4.2.1 An Arithmetic Type</h3><p>Many useful operations do not require direct access to the representation of complex,<br>so they can be defined separately from the class definition.</p>
<h3 id="4-2-2-A-Container"><a href="#4-2-2-A-Container" class="headerlink" title="4.2.2 A Container"></a>4.2.2 A Container</h3><p>The constructor/destructor combination is the basis of many elegant techniques.</p>
<h3 id="4-2-3-Initializing-Containers"><a href="#4-2-3-Initializing-Containers" class="headerlink" title="4.2.3 Initializing Containers"></a>4.2.3 Initializing Containers</h3><p>However, it is worth remembering that the type system has no common sense.</p>
<h2 id="4-3-Abstract-Types-…………………………………………………………………-39"><a href="#4-3-Abstract-Types-…………………………………………………………………-39" class="headerlink" title="4.3 Abstract Types …………………………………………………………………. 39"></a>4.3 Abstract Types …………………………………………………………………. 39</h2><p>Since we don’t know anything about the representation of an abstract type (not even its size),<br>we must allocate objects on the free store (§4.2.2) and access them through references or pointers (§1.8, §11.2.1).</p>
<p>A class that provides the interface to a variety of other classes is often called a polymorphic type.</p>
<p>It knows only the interface defined by Container. Consequently, use(Container&amp;) needn’t be recompiled<br>if the implementation of List_container changes or a brand-new class derived from Container is used.</p>
<h2 id="4-4-Virtual-Functions-………………………………………………………………-42"><a href="#4-4-Virtual-Functions-………………………………………………………………-42" class="headerlink" title="4.4 Virtual Functions ………………………………………………………………. 42"></a>4.4 Virtual Functions ………………………………………………………………. 42</h2><p>The usual implementation technique is for the compiler to convert (非虚重载其实就是普通函数调用)<br>the name of a virtual function into an index into a table of pointers to functions.</p>
<p>That table is usually called the virtual function table or simply the vtbl. (如果没实现那指向的就是基类的虚函数)<br>Each class with virtual functions has its own vtbl identifying its virtual functions.</p>
<p>This virtual call mechanism can be made almost as efficient as the ‘‘normal function call’’ mechanism (within 25%).<br>Its space overhead is one pointer in each object of a class with virtual functions plus one vtbl for each such class.</p>
<h2 id="4-5-Class-Hierarchies-………………………………………………………………-42"><a href="#4-5-Class-Hierarchies-………………………………………………………………-42" class="headerlink" title="4.5 Class Hierarchies ……………………………………………………………… 42"></a>4.5 Class Hierarchies ……………………………………………………………… 42</h2><p>Then, the virtual function call mechanism ensures that the proper destructor is called.<br>That destructor then implicitly invokes the destructors of its bases and members.</p>
<h3 id="4-5-1-Explicit-Overriding"><a href="#4-5-1-Explicit-Overriding" class="headerlink" title="4.5.1 Explicit Overriding"></a>4.5.1 Explicit Overriding</h3><h3 id="4-5-2-Benefits-from-Hierarchies"><a href="#4-5-2-Benefits-from-Hierarchies" class="headerlink" title="4.5.2 Benefits from Hierarchies"></a>4.5.2 Benefits from Hierarchies</h3><p>Interface inheritance, Implementation inheritance</p>
<h3 id="4-5-3-Hierarchy-Navigation"><a href="#4-5-3-Hierarchy-Navigation" class="headerlink" title="4.5.3 Hierarchy Navigation"></a>4.5.3 Hierarchy Navigation</h3><p>We then test whether the result is nullptr.<br>This test can often conveniently be placed in the initialization of a variable in a condition.</p>
<h3 id="4-5-4-Avoiding-Resource-Leaks"><a href="#4-5-4-Avoiding-Resource-Leaks" class="headerlink" title="4.5.4 Avoiding Resource Leaks"></a>4.5.4 Avoiding Resource Leaks</h3><h2 id="4-6-Copy-and-Move-…………………………………………………………………-48"><a href="#4-6-Copy-and-Move-…………………………………………………………………-48" class="headerlink" title="4.6 Copy and Move ………………………………………………………………… 48"></a>4.6 Copy and Move ………………………………………………………………… 48</h2><p>The default meaning of copy is memberwise copy: copy each member.<br>For some sophisticated concrete types, such as Vector, memberwise copy is not the right semantics for copy,<br>and for abstract types it almost never is.</p>
<h3 id="4-6-1-Copying-Containers"><a href="#4-6-1-Copying-Containers" class="headerlink" title="4.6.1 Copying Containers"></a>4.6.1 Copying Containers</h3><p>When a class is a resource handle – that is,<br>when the class is responsible for an object accessed through a pointer – the default memberwise copy is typically a disaster.</p>
<h3 id="4-6-2-Moving-Containers"><a href="#4-6-2-Moving-Containers" class="headerlink" title="4.6.2 Moving Containers"></a>4.6.2 Moving Containers</h3><p>The word ‘‘rvalue’’ is intended to complement ‘‘lvalue,’’<br>which roughly means ‘‘something that can appear on the left-hand side of an assignment.’’<br>Thus, an rvalue reference is a reference to something that nobody else can assign to, so that we can safely ‘‘steal’’ its value.</p>
<h3 id="4-6-3-Essential-Operations"><a href="#4-6-3-Essential-Operations" class="headerlink" title="4.6.3 Essential Operations"></a>4.6.3 Essential Operations</h3><p>There are five situations in which an object is copied or moved:<br>• As the source of an assignment<br>• As an object initializer<br>• As a function argument<br>• As a function return value<br>• As an exception<br>In all cases, the copy or move constructor will be applied (unless it can be optimized away).</p>
<h3 id="4-6-4-Resource-Management"><a href="#4-6-4-Resource-Management" class="headerlink" title="4.6.4 Resource Management"></a>4.6.4 Resource Management</h3><p>C++ also offers a garbage collection interface so that you can plug in a garbage collector.(Use RAII better)</p>
<h3 id="4-6-5-Suppressing-Operations"><a href="#4-6-5-Suppressing-Operations" class="headerlink" title="4.6.5 Suppressing Operations"></a>4.6.5 Suppressing Operations</h3><h2 id="4-7-Advice-……………………………………………………………………………-56"><a href="#4-7-Advice-……………………………………………………………………………-56" class="headerlink" title="4.7 Advice …………………………………………………………………………….. 56"></a>4.7 Advice …………………………………………………………………………….. 56</h2><p>[6] Make a function a member only if it needs direct access to the representation of a class; §4.2.1.<br>[8] Use nonmember functions for symmetric operators; §4.2.1.<br>[16] An abstract class typically doesn’t need a constructor; §4.3.<br>[17] Use class hierarchies to represent concepts with inherent hierarchical structure; §4.5.<br>[18] A class with a virtual function should have a virtual destructor; §4.5.<br>[20] When designing a class hierarchy, distinguish between implementation inheritance and interface inheritance; §4.5.2.<br>[33] If a class has a pointer or reference member, it probably needs a destructor and non-default copy operations; §4.6.3.</p>
<h1 id="5-Templates-59"><a href="#5-Templates-59" class="headerlink" title="5 Templates 59"></a>5 Templates 59</h1><h2 id="5-1-Introduction-………………………………………………………………………-59"><a href="#5-1-Introduction-………………………………………………………………………-59" class="headerlink" title="5.1 Introduction ……………………………………………………………………… 59"></a>5.1 Introduction ……………………………………………………………………… 59</h2><h2 id="5-2-Parameterized-Types-…………………………………………………………-59"><a href="#5-2-Parameterized-Types-…………………………………………………………-59" class="headerlink" title="5.2 Parameterized Types …………………………………………………………. 59"></a>5.2 Parameterized Types …………………………………………………………. 59</h2><p>Templates are a compile-time mechanism, so their use incurs no run-time overhead compared to hand-crafted code.<br>A template value argument must be a constant expression. 编译期确定。</p>
<h2 id="5-3-Function-Templates-……………………………………………………………-62"><a href="#5-3-Function-Templates-……………………………………………………………-62" class="headerlink" title="5.3 Function Templates …………………………………………………………… 62"></a>5.3 Function Templates …………………………………………………………… 62</h2><h2 id="5-4-Concepts-and-Generic-Programming-……………………………………-62"><a href="#5-4-Concepts-and-Generic-Programming-……………………………………-62" class="headerlink" title="5.4 Concepts and Generic Programming …………………………………… 62"></a>5.4 Concepts and Generic Programming …………………………………… 62</h2><p>Templates for compile-time computation and type manipulation。<br>Remember that types (classes) can contain both code and values.<br>Templates provide (compile-time) parametric polymorphism.(虚函数是运行时多态？应该是编译期，虚表是和类相关的)</p>
<h2 id="5-5-Function-Objects-………………………………………………………………-64"><a href="#5-5-Function-Objects-………………………………………………………………-64" class="headerlink" title="5.5 Function Objects ………………………………………………………………. 64"></a>5.5 Function Objects ………………………………………………………………. 64</h2><h2 id="5-6-Variadic-Templates-……………………………………………………………-66"><a href="#5-6-Variadic-Templates-……………………………………………………………-66" class="headerlink" title="5.6 Variadic Templates ……………………………………………………………. 66"></a>5.6 Variadic Templates ……………………………………………………………. 66</h2><h2 id="5-7-Aliases-……………………………………………………………………………-67"><a href="#5-7-Aliases-……………………………………………………………………………-67" class="headerlink" title="5.7 Aliases …………………………………………………………………………….. 67"></a>5.7 Aliases …………………………………………………………………………….. 67</h2><h2 id="5-8-Template-Compilation-Model-……………………………………………-68"><a href="#5-8-Template-Compilation-Model-……………………………………………-68" class="headerlink" title="5.8 Template Compilation Model …………………………………………….. 68"></a>5.8 Template Compilation Model …………………………………………….. 68</h2><p>This differs from the alternative view that objects have types, which determine the presence and meaning of operations.<br>Values ‘‘live’’ in objects.<br>This is the way objects (e.g., variables) work in C++, and only values that meet an object’s requirements can be put into it.<br>What is done at compile time using templates does not involve objects, only values.</p>
<h2 id="5-9-Advice-……………………………………………………………………………-68"><a href="#5-9-Advice-……………………………………………………………………………-68" class="headerlink" title="5.9 Advice …………………………………………………………………………….. 68"></a>5.9 Advice …………………………………………………………………………….. 68</h2><h1 id="6-Library-Overview-71"><a href="#6-Library-Overview-71" class="headerlink" title="6 Library Overview 71"></a>6 Library Overview 71</h1><p>6.1 Introduction ……………………………………………………………………… 71<br>6.2 Standard-Library Components ……………………………………………. 72<br>6.3 Standard-Library Headers and Namespace …………………………… 72<br>6.4 Advice …………………………………………………………………………….. 74</p>
<h1 id="7-Strings-and-Regular-Expressions-75"><a href="#7-Strings-and-Regular-Expressions-75" class="headerlink" title="7 Strings and Regular Expressions 75"></a>7 Strings and Regular Expressions 75</h1><p>7.1 Introduction ……………………………………………………………………… 75<br>7.2 Strings …………………………………………………………………………….. 75<br>7.3 Regular Expressions ………………………………………………………….. 78<br>7.4 Advice …………………………………………………………………………….. 84</p>
<h1 id="8-I-O-Streams-85"><a href="#8-I-O-Streams-85" class="headerlink" title="8 I/O Streams 85"></a>8 I/O Streams 85</h1><p>8.1 Introduction ……………………………………………………………………… 85<br>8.2 Output …………………………………………………………………………….. 86<br>8.3 Input ……………………………………………………………………………….. 87<br>8.4 I/O State ………………………………………………………………………….. 89<br>8.5 I/O of User-Defined Types …………………………………………………. 90<br>8.6 Formatting ……………………………………………………………………….. 91<br>8.7 File Streams …………………………………………………………………….. 92<br>8.8 String Streams ………………………………………………………………….. 92<br>8.9 Advice …………………………………………………………………………….. 93</p>
<h1 id="9-Containers-95"><a href="#9-Containers-95" class="headerlink" title="9 Containers 95"></a>9 Containers 95</h1><p>9.1 Introduction ……………………………………………………………………… 95<br>9.2 vector ………………………………………………………………………………. 96<br>9.3 list …………………………………………………………………………………… 100<br>9.4 map …………………………………………………………………………………. 101<br>9.5 unordered_map …………………………………………………………………. 102<br>9.6 Container Overview ………………………………………………………….. 103<br>9.7 Advice …………………………………………………………………………….. 104</p>
<h1 id="10-Algorithms-107"><a href="#10-Algorithms-107" class="headerlink" title="10 Algorithms 107"></a>10 Algorithms 107</h1><p>10.1 Introduction ……………………………………………………………………… 107<br>10.2 Use of Iterators …………………………………………………………………. 108<br>10.3 Iterator Types …………………………………………………………………… 111<br>10.4 Stream Iterators ………………………………………………………………… 112<br>10.5 Predicates ………………………………………………………………………… 113<br>10.6 Algorithm Overview …………………………………………………………. 114<br>10.7 Container Algorithms ……………………………………………………….. 115<br>10.8 Advice …………………………………………………………………………….. 115</p>
<h1 id="11-Utilities-117"><a href="#11-Utilities-117" class="headerlink" title="11 Utilities 117"></a>11 Utilities 117</h1><p>11.1 Introduction ……………………………………………………………………… 117<br>11.2 Resource Management ………………………………………………………. 117<br>11.3 Specialized Containers ………………………………………………………. 121<br>11.4 Time ……………………………………………………………………………….. 125<br>11.5 Function Adaptors …………………………………………………………….. 125<br>11.6 Type Functions …………………………………………………………………. 128<br>11.7 Advice …………………………………………………………………………….. 131</p>
<h1 id="12-Numerics-133"><a href="#12-Numerics-133" class="headerlink" title="12 Numerics 133"></a>12 Numerics 133</h1><p>12.1 Introduction ……………………………………………………………………… 133<br>12.2 Mathematical Functions …………………………………………………….. 134<br>12.3 Numerical Algorithms ………………………………………………………. 135<br>12.4 Complex Numbers ……………………………………………………………. 135<br>12.5 Random Numbers …………………………………………………………….. 136<br>12.6 Vector Arithmetic ……………………………………………………………… 138<br>12.7 Numeric Limits ………………………………………………………………… 138<br>12.8 Advice …………………………………………………………………………….. 138</p>
<h1 id="13-Concurrency-141"><a href="#13-Concurrency-141" class="headerlink" title="13 Concurrency 141"></a>13 Concurrency 141</h1><p>13.1 Introduction ……………………………………………………………………… 141<br>13.2 Tasks and threads ……………………………………………………………… 142<br>13.3 Passing Arguments ……………………………………………………………. 143<br>13.4 Returning Results ……………………………………………………………… 144<br>13.5 Sharing Data …………………………………………………………………….. 144<br>13.6 Waiting for Events ……………………………………………………………. 146<br>13.7 Communicating Tasks ……………………………………………………….. 147<br>13.8 Advice …………………………………………………………………………….. 151</p>
<h1 id="14-History-and-Compatibility-153"><a href="#14-History-and-Compatibility-153" class="headerlink" title="14 History and Compatibility 153"></a>14 History and Compatibility 153</h1><p>14.1 History ……………………………………………………………………………. 153<br>14.2 C++11 Extensions …………………………………………………………….. 158<br>14.3 C/C++ Compatibility ………………………………………………………… 161<br>14.4 Bibliography ……………………………………………………………………. 166<br>14.5 Advice …………………………………………………………………………….. 168</p>

    </div>

    <div class="post-footer">
        <div>
            
                转载声明：商业转载请联系作者获得授权,非商业转载请注明出处 © <a href="" target="_blank">theForger</a>
            
        </div>
        <div>
            
        </div>
    </div>
</article>

<div class="article-nav prev-next-wrap clearfix">
    
        <a href="/2019/07/05/Beautiful-Architecture/" class="pre-post btn btn-default" title='Beautiful Architecture'>
            <i class="fa fa-angle-left fa-fw"></i><span class="hidden-lg">上一篇</span>
            <span class="hidden-xs">Beautiful Architecture</span>
        </a>
    
    
        <a href="/2019/05/20/windows-powershell-3-0-step-by-step/" class="next-post btn btn-default" title='windows_powershell_3.0_step_by_step'>
            <span class="hidden-lg">下一篇</span>
            <span class="hidden-xs">windows_powershell_3.0_step_by_step</span><i class="fa fa-angle-right fa-fw"></i>
        </a>
    
</div>


    <div id="comments">
        
	
  <script id="dsq-count-scr" src="https://israel-liu.disqus.com/count.js" async></script>


<script type="text/javascript">
  var disqus_config = function () {
    this.page.url = 'https://israel-liu.github.io/2019/06/25/A-Tour-of-Cpp/';
    this.page.identifier = '2019/06/25/A-Tour-of-Cpp/';
    this.page.title = 'A Tour of Cpp';
  };
  var d = document, s = d.createElement('script');
  s.src = 'https://israel-liu.disqus.com/embed.js';
  s.setAttribute('data-timestamp', '' + +new Date());
  (d.head || d.body).appendChild(s);
</script>


	

    </div>





                </main>
                
                    <aside id="article-toc" role="navigation" class="col-md-4">
    <div class="widget">
        <h3 class="title">文章目录</h3>
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Preface-ix"><span class="toc-text">Preface ix</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#1-The-Basics-1"><span class="toc-text">1 The Basics 1</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-1-Introduction-………………………………………………………………………-1"><span class="toc-text">1.1 Introduction ……………………………………………………………………… 1</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-2-Programs-…………………………………………………………………………-1"><span class="toc-text">1.2 Programs …………………………………………………………………………. 1</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-3-Hello-World-……………………………………………………………………-2"><span class="toc-text">1.3 Hello, World! …………………………………………………………………… 2</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-4-Functions-…………………………………………………………………………-3"><span class="toc-text">1.4 Functions …………………………………………………………………………. 3</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-5-Types-Variables-and-Arithmetic-…………………………………………-5"><span class="toc-text">1.5 Types, Variables, and Arithmetic ………………………………………… 5</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-6-Scope-………………………………………………………………………………-8"><span class="toc-text">1.6 Scope ………………………………………………………………………………. 8</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-7-Constants-…………………………………………………………………………-8"><span class="toc-text">1.7 Constants …………………………………………………………………………. 8</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-8-Pointers-Arrays-and-References-…………………………………………-9"><span class="toc-text">1.8 Pointers, Arrays, and References ………………………………………… 9</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-9-Tests-………………………………………………………………………………-12"><span class="toc-text">1.9 Tests ……………………………………………………………………………….. 12</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-10-Advice-……………………………………………………………………………-14"><span class="toc-text">1.10 Advice …………………………………………………………………………….. 14</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-User-Defined-Types-15"><span class="toc-text">2 User-Defined Types 15</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#2-1-Introduction-………………………………………………………………………-15"><span class="toc-text">2.1 Introduction ……………………………………………………………………… 15</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-2-Structures-…………………………………………………………………………-16"><span class="toc-text">2.2 Structures ………………………………………………………………………… 16</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-3-Classes-……………………………………………………………………………-17"><span class="toc-text">2.3 Classes ……………………………………………………………………………. 17</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-4-Unions-……………………………………………………………………………-19"><span class="toc-text">2.4 Unions …………………………………………………………………………….. 19</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-5-Enumerations-……………………………………………………………………-20"><span class="toc-text">2.5 Enumerations …………………………………………………………………… 20</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-6-Advice-……………………………………………………………………………-21"><span class="toc-text">2.6 Advice …………………………………………………………………………….. 21</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3-Modularity-23"><span class="toc-text">3 Modularity 23</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#3-1-Introduction-………………………………………………………………………-23"><span class="toc-text">3.1 Introduction ……………………………………………………………………… 23</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-2-Separate-Compilation-…………………………………………………………-24"><span class="toc-text">3.2 Separate Compilation ………………………………………………………… 24</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-3-Namespaces-………………………………………………………………………-26"><span class="toc-text">3.3 Namespaces ……………………………………………………………………… 26</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-4-Error-Handling-…………………………………………………………………-27"><span class="toc-text">3.4 Error Handling …………………………………………………………………. 27</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-1-Exceptions"><span class="toc-text">3.4.1 Exceptions</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-2-Invariants"><span class="toc-text">3.4.2 Invariants</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-4-3-Static-Assertions"><span class="toc-text">3.4.3 Static Assertions</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#4-Classes-33"><span class="toc-text">4 Classes 33</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#4-1-Introduction-………………………………………………………………………-33"><span class="toc-text">4.1 Introduction ……………………………………………………………………… 33</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-2-Concrete-Types-…………………………………………………………………-34"><span class="toc-text">4.2 Concrete Types …………………………………………………………………. 34</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-1-An-Arithmetic-Type"><span class="toc-text">4.2.1 An Arithmetic Type</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-2-A-Container"><span class="toc-text">4.2.2 A Container</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-3-Initializing-Containers"><span class="toc-text">4.2.3 Initializing Containers</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-3-Abstract-Types-…………………………………………………………………-39"><span class="toc-text">4.3 Abstract Types …………………………………………………………………. 39</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-4-Virtual-Functions-………………………………………………………………-42"><span class="toc-text">4.4 Virtual Functions ………………………………………………………………. 42</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-5-Class-Hierarchies-………………………………………………………………-42"><span class="toc-text">4.5 Class Hierarchies ……………………………………………………………… 42</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-5-1-Explicit-Overriding"><span class="toc-text">4.5.1 Explicit Overriding</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-5-2-Benefits-from-Hierarchies"><span class="toc-text">4.5.2 Benefits from Hierarchies</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-5-3-Hierarchy-Navigation"><span class="toc-text">4.5.3 Hierarchy Navigation</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-5-4-Avoiding-Resource-Leaks"><span class="toc-text">4.5.4 Avoiding Resource Leaks</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-6-Copy-and-Move-…………………………………………………………………-48"><span class="toc-text">4.6 Copy and Move ………………………………………………………………… 48</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-6-1-Copying-Containers"><span class="toc-text">4.6.1 Copying Containers</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-6-2-Moving-Containers"><span class="toc-text">4.6.2 Moving Containers</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-6-3-Essential-Operations"><span class="toc-text">4.6.3 Essential Operations</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-6-4-Resource-Management"><span class="toc-text">4.6.4 Resource Management</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-6-5-Suppressing-Operations"><span class="toc-text">4.6.5 Suppressing Operations</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-7-Advice-……………………………………………………………………………-56"><span class="toc-text">4.7 Advice …………………………………………………………………………….. 56</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#5-Templates-59"><span class="toc-text">5 Templates 59</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#5-1-Introduction-………………………………………………………………………-59"><span class="toc-text">5.1 Introduction ……………………………………………………………………… 59</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-2-Parameterized-Types-…………………………………………………………-59"><span class="toc-text">5.2 Parameterized Types …………………………………………………………. 59</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-3-Function-Templates-……………………………………………………………-62"><span class="toc-text">5.3 Function Templates …………………………………………………………… 62</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-4-Concepts-and-Generic-Programming-……………………………………-62"><span class="toc-text">5.4 Concepts and Generic Programming …………………………………… 62</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-5-Function-Objects-………………………………………………………………-64"><span class="toc-text">5.5 Function Objects ………………………………………………………………. 64</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-6-Variadic-Templates-……………………………………………………………-66"><span class="toc-text">5.6 Variadic Templates ……………………………………………………………. 66</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-7-Aliases-……………………………………………………………………………-67"><span class="toc-text">5.7 Aliases …………………………………………………………………………….. 67</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-8-Template-Compilation-Model-……………………………………………-68"><span class="toc-text">5.8 Template Compilation Model …………………………………………….. 68</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-9-Advice-……………………………………………………………………………-68"><span class="toc-text">5.9 Advice …………………………………………………………………………….. 68</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#6-Library-Overview-71"><span class="toc-text">6 Library Overview 71</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#7-Strings-and-Regular-Expressions-75"><span class="toc-text">7 Strings and Regular Expressions 75</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#8-I-O-Streams-85"><span class="toc-text">8 I/O Streams 85</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#9-Containers-95"><span class="toc-text">9 Containers 95</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#10-Algorithms-107"><span class="toc-text">10 Algorithms 107</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#11-Utilities-117"><span class="toc-text">11 Utilities 117</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#12-Numerics-133"><span class="toc-text">12 Numerics 133</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#13-Concurrency-141"><span class="toc-text">13 Concurrency 141</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#14-History-and-Compatibility-153"><span class="toc-text">14 History and Compatibility 153</span></a></li></ol>
    </div>
</aside>

                
            </div>
        </div>
    </section>
    <footer class="main-footer">
    <div class="container">
        <div class="row">
        </div>
    </div>
</footer>

<!--<a id="toc-btn">
    <i class="fa fa-bars"></i>
</a>-->

<a id="back-to-top" class="icon-btn hide">
	<i class="fa fa-chevron-up"></i>
</a>




    <div class="copyright">
    <div class="container">
        <div class="row">
            <div class="col-sm-12"> 
                <span>Copyright &copy; 2017
                </span> | 
                <span>
                    Powered by <a href="//hexo.io" class="copyright-links" target="_blank" rel="nofollow">Hexo</a>
                </span> | 
                <span>
                    Theme by <a href="//github.com/shenliyang/hexo-theme-snippet.git" class="copyright-links" target="_blank" rel="nofollow">Snippet</a>
                </span>
            </div>
        </div>
    </div>
</div>



	<script src="/js/search.js?rev=@@hash"></script>


<script src="/js/app.js?rev=@@hash"></script>


</body>
</html>